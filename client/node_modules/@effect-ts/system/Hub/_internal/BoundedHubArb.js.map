{"version":3,"file":"BoundedHubArb.js","mappings":"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","names":["BoundedHubArb","Hub","constructor","requestedCapacity","array","Array","from","length","subscribers","capacity","isEmpty","publisherIndex","subscribersIndex","isFull","publish","a","subscriberCount","index","publishAll","as","asArray","Chunk","n","size","available","forHub","Math","min","iteratorIndex","publishAllIndex","unsafeGet_","drop_","slide","subscribe","BoundedHubArbSubscription","Subscription","self","subscriberIndex","unsubscribed","poll","default_","max","pollUpTo","empty","toPoll","builder","pollUpToIndex","append_","unsubscribe"],"sourceRoot":"","sources":["../../_src/Hub/_internal/BoundedHubArb.ts"],"sourcesContent":[null]}