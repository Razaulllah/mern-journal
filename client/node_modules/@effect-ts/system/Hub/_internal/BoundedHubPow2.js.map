{"version":3,"file":"BoundedHubPow2.js","mappings":"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","names":["BoundedHubPow2","Hub","constructor","requestedCapacity","array","Array","from","length","mask","subscribers","capacity","isEmpty","publisherIndex","subscribersIndex","isFull","publish","a","subscriberCount","index","publishAll","as","asArray","Chunk","n","size","available","forHub","Math","min","iteratorIndex","publishAllIndex","drop_","slide","subscribe","BoundedHubPow2Subcription","Subscription","self","subscriberIndex","unsubscribed","poll","default_","max","pollUpTo","empty","toPoll","builder","pollUpToIndex","append_","unsubscribe"],"sourceRoot":"","sources":["../../_src/Hub/_internal/BoundedHubPow2.ts"],"sourcesContent":[null]}