{"version":3,"file":"mergeWith.js","mappings":"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","names":["mergeWith_","self","that","leftDone","rightDone","m","M","do","T","toManaged","C","makeSingleProducerAsyncInput","input","FromInput","fromInput","queueReader","ToPull","toPull","pullL","pullR","transplant","graft","succeed","handleSide","exit","fiber","pull","done","both","single","onDecision","decision","MH","concrete","_typeId","DoneTypeId","fromEffect","zipRight_","F","interrupt","io","map_","await","Ex","fold","cause","f","halt","E","z","elem","ZipRight","write","go","fold_","failure","forkDaemon","leftFiber","state","BothRunningTypeId","lj","join","left","rj","right","Unwrap","unwrap","raceWith_","leftEx","_","l","r","BothRunning","LeftDone","rightEx","RightDone","LeftDoneTypeId","result","zipWith_","a","b","UnwrapManaged","unwrapManaged","mergeWith"],"sourceRoot":"","sources":["../../../../_src/Experimental/Stream/Channel/api/mergeWith.ts"],"sourcesContent":[null]}