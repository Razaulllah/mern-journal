{"version":3,"file":"BoundedHubPow2.mjs","mappings":"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","names":["Chunk","Hub","Subscription","BoundedHubPow2","constructor","requestedCapacity","array","Array","from","length","mask","subscribers","capacity","isEmpty","publisherIndex","subscribersIndex","isFull","publish","a","subscriberCount","index","publishAll","as","asArray","n","size","available","forHub","Math","min","iteratorIndex","publishAllIndex","drop_","slide","subscribe","BoundedHubPow2Subcription","self","subscriberIndex","unsubscribed","poll","default_","max","pollUpTo","empty","toPoll","builder","pollUpToIndex","append_","unsubscribe"],"sourceRoot":"","sources":["../../../_src/Hub/_internal/BoundedHubPow2.ts"],"sourcesContent":[null]}