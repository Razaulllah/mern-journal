{"version":3,"file":"UnboundedHub.mjs","mappings":"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","names":["Chunk","Hub","Subscription","Node","constructor","value","subscribers","next","UnboundedHub","Number","MAX_SAFE_INTEGER","publisherTail","publisherHead","isEmpty","isFull","publish","a","publisherIndex","publishAll","as","empty","size","subscribersIndex","slide","subscribe","UnboundedHubSubscription","self","subscriberHead","subscriberIndex","unsubscribed","loop","poll","default_","polled","pollUpTo","n","builder","i","append_","Math","max","unsubscribe"],"sourceRoot":"","sources":["../../../_src/Hub/_internal/UnboundedHub.ts"],"sourcesContent":[null]}