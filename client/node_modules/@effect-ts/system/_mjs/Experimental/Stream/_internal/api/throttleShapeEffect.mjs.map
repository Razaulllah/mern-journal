{"version":3,"file":"throttleShapeEffect.mjs","mappings":"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","names":["CL","T","pipe","CH","C","throttleShapeEffect_","self","units","duration","costFn","burst","loop","tokens","timestamp","readWith","in_","unwrap","do","currentTime","current","weight","elapsed","cycles","available","sum","Math","floor","max","Number","MAX_SAFE_INTEGER","min","remaining","waitCycles","delay","zipRight_","fromEffect","sleep","write","e","fail","_","unit","Stream","chain_","channel","throttleShapeEffect"],"sourceRoot":"","sources":["../../../../../_src/Experimental/Stream/_internal/api/throttleShapeEffect.ts"],"sourcesContent":[null]}