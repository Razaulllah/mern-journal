{"version":3,"file":"rechunk.mjs","mappings":"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","names":["CK","L","T","CH","C","Unwrap","Rechunker","constructor","n","builder","write","elem","append","pos","result","build","emitOfNotEmpty","unit","rechunk_","self","unwrap","succeedWith","rechunker","process","readWithCause","chunk","chunkSize","size","chunks","empty","i","unsafeGet_","prepend_","zipRight_","writeAll","toArray","reverse","cause","failCause","_","Stream","channel","rechunk"],"sourceRoot":"","sources":["../../../../../_src/Experimental/Stream/_internal/api/rechunk.ts"],"sourcesContent":[null]}