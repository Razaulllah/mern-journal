{"version":3,"file":"collectAllWhileWith.mjs","mappings":"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","names":["CK","T","pipe","Ref","CH","C","collectAllWhileWith_","self","z","p","f","Sink","fromEffect","zip_","makeRef","empty","tuple","leftoversRef","upstreamDoneRef","upstreamMarker","readWith","in_","zipRight_","write","_","fail","x","as_","set","loop","currentResult","foldChannel_","doneCollect","channel","leftovers","doneValue","bind","accumulatedResult","upstreamDone","flatten","let","get","result","bufferChunk","collectAllWhileWith"],"sourceRoot":"","sources":["../../../../_src/Experimental/Stream/Sink/collectAllWhileWith.ts"],"sourcesContent":[null]}