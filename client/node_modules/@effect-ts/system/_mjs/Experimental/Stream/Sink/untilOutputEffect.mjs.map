{"version":3,"file":"untilOutputEffect.mjs","mappings":"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","names":["CK","T","pipe","O","Ref","CH","C","untilOutputEffect_","self","f","Sink","chain_","fromEffect","zip_","makeRef","empty","tuple","leftoversRef","upstreamDoneRef","upstreamMarker","readWith","in_","zipRight_","write","_","fail","as_","set","loop","foldChannel_","doneCollect","channel","leftovers","doneValue","bind","satisfied","upstreamDone","flatten","some","none","get","do","res","bufferChunk","untilOutputEffect"],"sourceRoot":"","sources":["../../../../_src/Experimental/Stream/Sink/untilOutputEffect.ts"],"sourcesContent":[null]}