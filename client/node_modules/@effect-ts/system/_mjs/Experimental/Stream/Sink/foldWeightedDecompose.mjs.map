{"version":3,"file":"foldWeightedDecompose.mjs","mappings":"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","names":["CK","Tp","CH","C","foldWeightedDecompose","z","costFn","max","decompose","f","go","s","cost","dirty","readWith","in_","fold","idx","size","tuple","empty","elem","unsafeGet_","total","decomposed","drop_","concat_","nextS","nextCost","nextDirty","leftovers","isEmpty","zipRight_","write","end","err","fail","_","Sink"],"sourceRoot":"","sources":["../../../../_src/Experimental/Stream/Sink/foldWeightedDecompose.ts"],"sourcesContent":[null]}