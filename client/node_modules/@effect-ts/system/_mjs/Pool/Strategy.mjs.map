{"version":3,"file":"Strategy.mjs","mappings":"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","names":["CL","Tp","T","pipe","Ref","StrategyBase","_R","_E","_A","None","initial","unit","track","_state","_attempted","run","_getExcess","_shrink","TimeToLive","constructor","timeToLive","bind","do","service","HasClock","clock","currentTime","now","makeRef","ref","tuple","state","asUnit","set","getExcess","shrink","chain_","excess","zipRight_","sleep","zip_","get","start","end","duration"],"sourceRoot":"","sources":["../../_src/Pool/Strategy.ts"],"sourcesContent":[null]}