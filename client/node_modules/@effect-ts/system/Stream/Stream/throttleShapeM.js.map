{"version":3,"file":"throttleShapeM.js","mappings":"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","names":["throttleShapeM_","self","costFn","units","duration","burst","Stream","M","do","proc","T","toManaged","CL","currentTime","Ref","makeRef","Tp","tuple","bucket","chunks","chunk","mapError_","O","some","current","weight","modify_","tokens","timestamp","elapsed","cycles","available","sum","max","Number","MAX_VALUE","Math","min","remaining","waitCycles","delay","when_","sleep","pull","throttleShapeM"],"sourceRoot":"","sources":["../../_src/Stream/Stream/throttleShapeM.ts"],"sourcesContent":[null]}