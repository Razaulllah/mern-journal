{"version":3,"file":"aggregateAsyncWithinEither.js","mappings":"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","names":["aggregateAsyncWithinEither","transducer","schedule","self","aggregateAsyncWithinEither_","m","Stream","M","do","proc","push","fromEffect","Handoff","make","R","makeManagedRef","O","none","SC","driver","A","empty","handoff","pull","T","repeatWhileM_","Take","fromPull","take","offer_","Ex","succeeded","lastChunk","raceNextTime","sdriver","waitingFiber","updateSchedule","get","next","_","some","waitForProducer","fold","fiber","F","join","x","go","chain_","interrupt","unit","producer","forkManaged","consumer","race","handleTake","set","raceWith_","scheduleDone","producerWaiting","done","orDie","last","reset","lastQ","succeed","single","E","left","asSomeError","updateLastChunk","scheduleResult","from","map_","right","ps","producerDone","scheduleWaiting","zipRight_","flatten","foldM","chunk","end","halt","os","as_","tap_"],"sourceRoot":"","sources":["../../_src/Stream/Stream/aggregateAsyncWithinEither.ts"],"sourcesContent":[null]}